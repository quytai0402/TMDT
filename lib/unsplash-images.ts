// Real Unsplash images for Vietnamese properties
// Categorized by property type and location

export const propertyImages = {
  // VILLA images - Luxury villas
  VILLA: {
    nha_trang: [
      'https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=1200&q=80', // Beachfront villa
      'https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=1200&q=80', // Pool villa
      'https://images.unsplash.com/photo-1615873968403-89e068629265?w=1200&q=80', // Luxury bedroom
      'https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=1200&q=80', // Modern interior
      'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=1200&q=80', // Pool view
    ],
    da_lat: [
      'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80', // European villa
      'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&q=80', // Garden villa
      'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=1200&q=80', // Cozy interior
      'https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=1200&q=80', // Villa exterior
      'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&q=80', // Mountain view
    ],
    phu_quoc: [
      'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=1200&q=80', // Beach resort
      'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=1200&q=80', // Infinity pool
      'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=1200&q=80', // Tropical villa
      'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=1200&q=80', // Luxury suite
      'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=1200&q=80', // Beach access
    ],
  },

  // APARTMENT images - Modern city apartments
  APARTMENT: {
    saigon: [
      'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&q=80', // Modern apartment
      'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=1200&q=80', // City view
      'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=1200&q=80', // Living room
      'https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=1200&q=80', // Kitchen
      'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&q=80', // Bedroom
    ],
    hanoi: [
      'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&q=80', // Studio
      'https://images.unsplash.com/photo-1536376072261-38c75010e6c9?w=1200&q=80', // Modern design
      'https://images.unsplash.com/photo-1484101403633-562f891dc89a?w=1200&q=80', // Compact space
      'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=1200&q=80', // Workspace
      'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80', // Balcony view
    ],
  },

  // HOUSE images - Traditional houses
  HOUSE: {
    hoi_an: [
      'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&q=80', // Traditional house
      'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=1200&q=80', // Courtyard
      'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1200&q=80', // Interior
      'https://images.unsplash.com/photo-1576941089067-2de3c901e126?w=1200&q=80', // Garden
      'https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=1200&q=80', // Exterior
    ],
  },

  // BUNGALOW images - Beach bungalows
  BUNGALOW: {
    mui_ne: [
      'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=1200&q=80', // Beach bungalow
      'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=1200&q=80', // Tropical
      'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=1200&q=80', // Beach view
      'https://images.unsplash.com/photo-1540541338287-41700207dee6?w=1200&q=80', // Interior
      'https://images.unsplash.com/photo-1602002418082-a4443e081dd1?w=1200&q=80', // Deck
    ],
  },

  // CONDO images - High-rise condos
  CONDO: {
    vung_tau: [
      'https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=1200&q=80', // Modern condo
      'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=1200&q=80', // Ocean view
      'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&q=80', // Living area
      'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80', // Balcony
      'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&q=80', // Bedroom
    ],
  },

  // CABIN images - Mountain cabins
  CABIN: {
    sapa: [
      'https://images.unsplash.com/photo-1587061949409-02df41d5e562?w=1200&q=80', // Mountain cabin
      'https://images.unsplash.com/photo-1542718610-a1d656d1884c?w=1200&q=80', // Cozy interior
      'https://images.unsplash.com/photo-1499696010180-025ef6e1a8f9?w=1200&q=80', // Nature view
      'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&q=80', // Mountain landscape
      'https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1200&q=80', // Sunset view
    ],
  },

  // FARM_STAY images - Rural farmstays
  FARM_STAY: {
    can_tho: [
      'https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=1200&q=80', // Farm house
      'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&q=80', // Garden
      'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80', // Rustic interior
      'https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=1200&q=80', // Nature
      'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&q=80', // Forest
    ],
  },
}

// Function to get images for a property
export function getPropertyImages(
  propertyType: string,
  city: string,
  count: number = 5
): string[] {
  const normalizedCity = city.toLowerCase().replace(/\s+/g, '_')
  const type = propertyType as keyof typeof propertyImages

  const typeImages = propertyImages[type]

  if (typeImages) {
    const cityImages = (typeImages as Record<string, string[]>)[normalizedCity]
    if (cityImages && cityImages.length > 0) {
      return cityImages.slice(0, count)
    }

    const allImages = Object.values(typeImages).flat()
    if (allImages.length > 0) {
      return allImages.slice(0, count)
    }
  }

  // Default fallback images
  return [
    'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80',
    'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&q=80',
    'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=1200&q=80',
    'https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=1200&q=80',
    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&q=80',
  ].slice(0, count)
}

// Vietnam market pricing (VND per night)
export const marketPricing = {
  VILLA: {
    base: { min: 3000000, max: 15000000 },
    luxury: { min: 8000000, max: 30000000 },
    budget: { min: 1500000, max: 4000000 },
  },
  APARTMENT: {
    studio: { min: 500000, max: 1200000 },
    one_bed: { min: 800000, max: 2000000 },
    two_bed: { min: 1500000, max: 3500000 },
    penthouse: { min: 4000000, max: 12000000 },
  },
  HOUSE: {
    small: { min: 800000, max: 1800000 },
    medium: { min: 1500000, max: 3500000 },
    large: { min: 2500000, max: 6000000 },
  },
  BUNGALOW: {
    beach: { min: 1200000, max: 3500000 },
    garden: { min: 800000, max: 2000000 },
  },
  CONDO: {
    standard: { min: 1500000, max: 3000000 },
    premium: { min: 2500000, max: 6000000 },
  },
  CABIN: {
    basic: { min: 600000, max: 1500000 },
    comfort: { min: 1000000, max: 2500000 },
  },
  FARM_STAY: {
    basic: { min: 500000, max: 1200000 },
    premium: { min: 1200000, max: 3000000 },
  },
}

// Calculate appropriate price based on property details
export function calculateMarketPrice(
  propertyType: string,
  bedrooms: number,
  location: string,
  rating: number,
  isFeatured: boolean
): number {
  let basePrice = 1000000 // Default

  // Base price by property type and size
  switch (propertyType) {
    case 'VILLA':
      basePrice = bedrooms >= 4 ? 8000000 : bedrooms >= 3 ? 5000000 : 3000000
      break
    case 'APARTMENT':
      basePrice = bedrooms >= 3 ? 2500000 : bedrooms >= 2 ? 1500000 : 800000
      break
    case 'HOUSE':
      basePrice = bedrooms >= 4 ? 3000000 : bedrooms >= 3 ? 2000000 : 1200000
      break
    case 'BUNGALOW':
      basePrice = 1800000
      break
    case 'CONDO':
      basePrice = bedrooms >= 2 ? 2500000 : 1800000
      break
    case 'CABIN':
      basePrice = 1200000
      break
    case 'FARM_STAY':
      basePrice = 1500000
      break
  }

  // Location multiplier
  const locationMultipliers: Record<string, number> = {
    'Phú Quốc': 1.5,
    'Nha Trang': 1.3,
    'Đà Nẵng': 1.3,
    'Hồ Chí Minh': 1.4,
    'Hà Nội': 1.2,
    'Đà Lạt': 1.2,
    'Hội An': 1.1,
    'Vũng Tàu': 1.1,
  }

  const locationKey = Object.keys(locationMultipliers).find(key => 
    location.includes(key)
  )
  if (locationKey) {
    basePrice *= locationMultipliers[locationKey]
  }

  // Rating multiplier (4.5+ = premium)
  if (rating >= 4.8) basePrice *= 1.2
  else if (rating >= 4.5) basePrice *= 1.1

  // Featured properties (typically higher quality)
  if (isFeatured) basePrice *= 1.15

  // Round to nearest 100k
  return Math.round(basePrice / 100000) * 100000
}
